---
layout: page
---

# Assignments

The assignments are mainly to give you exposure to different concepts and try  systems out.  The assignments will require some elbow grease.

## A0-5: Databass

Follow the directions in [the databass repository](https://github.com/w6113/databass-public/tree/master/docs)



## (Optional) Differential Dataflow

Teams of 2

* Go to [Materialize.io](http://materialize.io) and install the system 
* Go through the [getting started documentation](https://materialize.io/docs/get-started/)
  * [You can also try it out in the browser](https://materialize.io/docs/katacoda/?intro-wikipedia)


## (Optional) Datalog

Teams of 2

Setup

* [Install souffle](https://souffle-lang.github.io/install)
* Go through the [tutorial](https://souffle-lang.github.io/tutorial)
* Download the [SQLite database](https://github.com/w6113/databass-public/blob/master/docs/a5.db?raw=true) for the assignment.  Store it in the directory you will be completing the assignment in.  This database contains the abstract syntax trees and query plans generated by DataBass for a large number of queries.  

The dataset

* `nodes(qid, nid, plantype, type)` stores each query id, node id, whether the plan is from the AST, unoptimized plan, or optimized plan, and the node type
* `attrs(nid, name, numval, strval)` stores the attributes of a node, one row for each attribute.  The value is stored in `numval` if it is numeric, and in `strval` otherwise.
* `edges(pid, cid, label)` stores the parent and child node ids, and an optional label if the child node was an attribute of the parent node (rather than a relational child operator).  For instance, the predicate in a filter operator is an attribute.


Write the `.dl` programs to answer at least 2 of the following questions

1. Write a datalog program in `q1.dl` that analyzes query ASTs.  Return all query ids that contain two or more nestings of subqueries. One nesting means the query contains a subquery.  Two means that a subquery contains a subquery.
1. Write a datalog program in `q2.dl` that finds all query ids whose optimized plan contains one or more Hash Join operators between tables T3 and T4.
1. Write a datalog program in `q3.dl` that returns the query ids of all optimized plans that contain one or more hash paths.  A hash path (a made up term) is a path from the root to a leaf operator that contains exactly one HashJoin operator.



